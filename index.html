<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
  <meta name="theme-color" content="#080808"/>
  <title>For You ğŸ–¤</title>
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,600;1,300;1,600&family=Montserrat:wght@300;400;700&display=swap" rel="stylesheet"/>

  <style>
    *, *::before, *::after { margin:0; padding:0; box-sizing:border-box; -webkit-tap-highlight-color:transparent; }

    :root {
      --black:  #080808;
      --red:    #c0182a;
      --gold:   #c9a84c;
      --cream:  #f5e6d0;
      --dim:    rgba(255,255,255,0.06);
      --gold-t: rgba(201,168,76,.18);
    }

    html { height:100%; }

    body {
      min-height:100%; height:100%;
      background: var(--black);
      color: var(--cream);
      font-family: 'Montserrat', sans-serif;
      overflow: hidden;
      /* GPU layer for entire body */
      -webkit-transform: translateZ(0);
      transform: translateZ(0);
    }

    /* â”€â”€ Subtle vignette (no SVG filter = no lag) â”€â”€ */
    body::after {
      content:'';
      position:fixed; inset:0;
      background: radial-gradient(ellipse at center, transparent 40%, rgba(0,0,0,.55) 100%);
      pointer-events:none; z-index:5;
    }

    /* â”€â”€ Ambient glow â€” CSS only, GPU composited â”€â”€ */
    .glow {
      position:fixed;
      width: min(520px, 90vw); height: min(520px, 90vw);
      border-radius:50%;
      background: radial-gradient(circle, rgba(139,0,0,.22) 0%, transparent 68%);
      top:50%; left:50%;
      transform: translate(-50%,-50%) translateZ(0);
      pointer-events:none; z-index:2;
      will-change: opacity, transform;
      animation: breathe 5s ease-in-out infinite;
    }
    @keyframes breathe {
      0%,100% { opacity:.55; transform:translate(-50%,-50%) scale(1) translateZ(0); }
      50%      { opacity:.9;  transform:translate(-50%,-50%) scale(1.12) translateZ(0); }
    }

    /* â”€â”€ Particle canvas â”€â”€ */
    #pCanvas { position:fixed; inset:0; pointer-events:none; z-index:3; }

    /* â”€â”€ Curtain â”€â”€ */
    .curtain {
      position:fixed; inset:0; background:var(--black); z-index:200;
      will-change:transform;
      animation: curtainUp 1.2s .2s cubic-bezier(.77,0,.18,1) forwards;
    }
    @keyframes curtainUp { to { transform:translateY(-100%) translateZ(0); } }

    /* â”€â”€ Scene â”€â”€ */
    .scene {
      position:relative; z-index:10;
      min-height:100vh; display:flex; flex-direction:column;
      align-items:center; justify-content:center;
      padding:20px 16px;
      overflow-y:auto;
    }

    /* â”€â”€ Letter card â”€â”€ */
    .letter {
      position:relative; max-width:460px; width:100%;
      opacity:0; animation:fadeUp .9s 1.4s ease forwards;
    }
    @keyframes fadeUp {
      from { opacity:0; transform:translateY(18px) translateZ(0); }
      to   { opacity:1; transform:translateY(0) translateZ(0); }
    }

    /* Corner ornaments */
    .corner {
      position:absolute; color:var(--gold);
      font-size:.95rem; opacity:.5; pointer-events:none;
    }
    .corner-tl { top:-18px; left:0; }
    .corner-br { bottom:-18px; right:0; }

    /* â”€â”€ Tagline â”€â”€ */
    .tagline {
      font-size:.6rem; letter-spacing:.38em; color:var(--gold);
      text-transform:uppercase; text-align:center; margin-bottom:18px;
      opacity:0; animation:slideDown .7s 1.7s ease forwards;
    }
    @keyframes slideDown {
      from { opacity:0; transform:translateY(-10px); }
      to   { opacity:1; transform:translateY(0); }
    }

    /* â”€â”€ Sender â”€â”€ */
    .sender {
      text-align:center; margin-bottom:26px;
      opacity:0; animation:slideDown .7s 1.9s ease forwards;
    }
    .sender .label { font-size:.55rem; letter-spacing:.3em; color:rgba(245,230,208,.35); text-transform:uppercase; margin-bottom:4px; }
    .sender .name  { font-family:'Cormorant Garamond',serif; font-size:clamp(2.4rem,8vw,3.2rem); font-weight:300; font-style:italic; color:var(--cream); line-height:1; }

    /* â”€â”€ Ornament divider â”€â”€ */
    .ornament {
      display:flex; align-items:center; gap:10px; margin-bottom:26px;
      opacity:0; animation:fadeUp .7s 2.1s ease forwards;
    }
    .ornament::before,
    .ornament::after { content:''; flex:1; height:1px; background:linear-gradient(to right,transparent,var(--gold)); }
    .ornament::after  { background:linear-gradient(to left,transparent,var(--gold)); }
    .ornament span { color:var(--red); font-size:1.2rem; }

    /* â”€â”€ Message box â”€â”€ */
    .msg-box {
      border:1px solid rgba(201,168,76,.18); border-radius:2px;
      padding:clamp(18px,5vw,28px) clamp(20px,5vw,32px);
      background:var(--dim);
      margin-bottom:22px;
      opacity:0; animation:fadeUp .7s 2.3s ease forwards;
      /* No backdrop-filter on mobile â€” causes lag */
    }
    @supports (backdrop-filter:blur(1px)) {
      @media (min-width:600px) {
        .msg-box { backdrop-filter:blur(4px); }
      }
    }

    .to-line { font-size:.55rem; letter-spacing:.3em; color:rgba(245,230,208,.35); text-transform:uppercase; margin-bottom:6px; }
    .to-you  { font-family:'Cormorant Garamond',serif; font-size:clamp(2rem,7vw,2.6rem); font-weight:600; color:var(--red); letter-spacing:.07em; margin-bottom:16px; }
    .msg-text { font-family:'Cormorant Garamond',serif; font-size:clamp(1rem,4vw,1.15rem); font-style:italic; font-weight:300; line-height:1.95; color:rgba(245,230,208,.82); }

    /* â”€â”€ Seal â”€â”€ */
    .seal {
      text-align:center; margin-bottom:20px;
      opacity:0; animation:fadeUp .7s 2.5s ease forwards;
    }
    .heart {
      font-size:2.6rem; display:inline-block;
      will-change:transform;
      animation:heartbeat 1.5s ease-in-out infinite;
      filter:drop-shadow(0 0 14px rgba(192,24,42,.75));
    }
    @keyframes heartbeat {
      0%,100% { transform:scale(1) translateZ(0); }
      15%     { transform:scale(1.2) translateZ(0); }
      30%     { transform:scale(1) translateZ(0); }
      44%     { transform:scale(1.12) translateZ(0); }
    }

    /* â”€â”€ Question â”€â”€ */
    .question-wrap { opacity:0; animation:fadeUp .7s 2.8s ease forwards; }
    .big-q {
      font-family:'Cormorant Garamond',serif;
      font-size:clamp(1.5rem,5.5vw,1.9rem);
      font-weight:300; font-style:italic; color:var(--cream);
      text-align:center; margin-bottom:22px; letter-spacing:.02em; line-height:1.4;
    }

    /* â”€â”€ Buttons â”€â”€ */
    .btns { display:flex; justify-content:center; }

    .btn-yes {
      background:var(--red); color:var(--cream); border:none;
      padding:14px 44px;
      font-family:'Montserrat',sans-serif; font-size:.72rem; font-weight:700;
      letter-spacing:.22em; text-transform:uppercase; cursor:pointer; border-radius:1px;
      box-shadow:0 0 28px rgba(192,24,42,.38);
      -webkit-appearance:none;
      will-change:transform;
      transition:background .2s, box-shadow .2s, transform .12s;
      touch-action:manipulation;
    }
    .btn-yes:active { background:#e01030; box-shadow:0 0 40px rgba(192,24,42,.65); transform:translateY(-2px) scale(1.02) translateZ(0); }

    /* â”€â”€ No button â€” escapes on touch â”€â”€ */
    #noBtn {
      position:fixed; right:28px; bottom:60px;
      background:transparent; color:rgba(245,230,208,.5);
      border:1px solid rgba(245,230,208,.22);
      padding:12px 28px;
      font-family:'Montserrat',sans-serif; font-size:.7rem; font-weight:400;
      letter-spacing:.2em; text-transform:uppercase;
      cursor:pointer; border-radius:1px; z-index:500;
      white-space:nowrap; touch-action:manipulation;
      will-change:transform;
      transition:left .09s linear, top .09s linear;
    }

    /* â”€â”€ Signature â”€â”€ */
    .signature {
      margin-top:24px; font-size:.55rem; letter-spacing:.25em;
      color:rgba(245,230,208,.18); text-transform:uppercase;
      text-align:center; opacity:0; animation:fadeUp 1s 3.4s ease forwards;
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       YES SCREEN
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    #yesScreen { display:none; text-align:center; opacity:0; animation:fadeUp .8s ease forwards; }

    .yes-big {
      font-family:'Cormorant Garamond',serif;
      font-size:clamp(3rem,12vw,4.5rem);
      font-weight:600; color:var(--red); letter-spacing:.06em;
      line-height:1; margin-bottom:10px;
      will-change:text-shadow;
      animation:pulse2 1.8s ease-in-out infinite;
    }
    @keyframes pulse2 {
      0%,100% { text-shadow:0 0 18px rgba(192,24,42,.55); }
      50%      { text-shadow:0 0 45px rgba(192,24,42,.95), 0 0 70px rgba(192,24,42,.35); }
    }

    .yes-sub {
      font-family:'Cormorant Garamond',serif;
      font-size:clamp(1.05rem,4vw,1.3rem);
      font-style:italic; font-weight:300;
      color:rgba(245,230,208,.8); line-height:2; margin-top:14px;
    }
    .yes-sub strong { color:var(--cream); font-style:normal; }

    .send-status {
      margin-top:18px; font-size:.62rem; letter-spacing:.18em;
      text-transform:uppercase; color:var(--gold);
      opacity:0; transition:opacity .5s;
    }
    .send-status.show { opacity:1; }

    /* â”€â”€ Toast â”€â”€ */
    .toast {
      position:fixed; bottom:28px; left:50%; transform:translateX(-50%) translateZ(0);
      background:rgba(201,168,76,.1); border:1px solid var(--gold);
      color:var(--gold); padding:9px 24px; font-size:.65rem;
      letter-spacing:.2em; text-transform:uppercase; border-radius:1px;
      opacity:0; transition:opacity .45s; z-index:1000;
      pointer-events:none; white-space:nowrap; max-width:90vw;
    }
    .toast.show { opacity:1; }

    /* â”€â”€ Rose rain â”€â”€ */
    .rose-rain { position:fixed; inset:0; pointer-events:none; z-index:50; }
    .rose-drop {
      position:absolute; top:-40px;
      will-change:transform, opacity;
      animation:roseFall linear forwards;
    }
    @keyframes roseFall { to { transform:translateY(110vh) rotate(360deg) translateZ(0); opacity:0; } }

    /* â”€â”€ Heartbeat ring for YES screen â”€â”€ */
    .ring-wrap { margin:18px auto 0; display:flex; justify-content:center; }
    .ring {
      width:90px; height:90px; border-radius:50%;
      border:1px solid rgba(192,24,42,.4);
      display:flex; align-items:center; justify-content:center;
      animation:ringPulse 1.8s ease-in-out infinite;
    }
    .ring-inner { font-size:2.2rem; }
    @keyframes ringPulse {
      0%,100% { box-shadow:0 0 0 0 rgba(192,24,42,.5); }
      50%      { box-shadow:0 0 0 18px rgba(192,24,42,0); }
    }
  </style>
</head>
<body>

<div class="curtain"></div>
<div class="glow"></div>
<canvas id="pCanvas"></canvas>
<div class="rose-rain" id="roseRain"></div>
<div class="toast" id="toast"></div>

<button id="noBtn">No ğŸ™ˆ</button>

<div class="scene">
  <div class="letter">
    <span class="corner corner-tl">âœ¦</span>
    <span class="corner corner-br">âœ¦</span>

    <div class="tagline">A message written in silence</div>

    <div class="sender">
      <div class="label">From</div>
      <div class="name" id="fromName">Saidur</div>
    </div>

    <div class="ornament"><span>â™¥</span></div>

    <div id="mainBlock">
      <div class="msg-box">
        <div class="to-line">To</div>
        <div class="to-you" id="toName">You</div>
        <div class="msg-text">
          In a world full of noise,<br/>
          you are my favourite silence.<br/><br/>
          I have been carrying these words<br/>
          for a long time â€”<br/>
          tonight, I finally dare to say them.
        </div>
      </div>

      <div class="seal"><span class="heart">â™¥</span></div>

      <div class="question-wrap">
        <div class="big-q">Will you be my Valentine?</div>
        <div class="btns">
          <button class="btn-yes" id="yesBtn">Yes, always ğŸ’–</button>
        </div>
      </div>
    </div>

    <div id="yesScreen">
      <div class="ring-wrap"><div class="ring"><span class="ring-inner">â™¥</span></div></div>
      <div class="yes-big" style="margin-top:18px">Always. â™¥</div>
      <div class="yes-sub">
        <strong id="fromNameYes">Saidur</strong> is smiling right now â€”<br/>
        because of <strong>you.</strong><br/><br/>
        Happy Valentine's Day ğŸ–¤
      </div>
      <div class="send-status" id="sendStatus">ğŸ’Œ Sending loveâ€¦</div>
    </div>

    <div class="signature">Est. 14 February Â· Made with love</div>
  </div>
</div>

<script>
/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   PARAMS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
const p    = new URLSearchParams(window.location.search);
const from = p.get('from') || 'Saidur';
const to   = p.get('to')   || 'You';

document.getElementById('fromName').textContent    = from;
document.getElementById('toName').textContent      = to;
document.getElementById('fromNameYes').textContent = from;

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   CANVAS PARTICLES â€” no DOM spam, GPU-friendly
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
(function initParticles() {
  const canvas = document.getElementById('pCanvas');
  const ctx    = canvas.getContext('2d');

  // Detect low-end device â†’ fewer particles
  const isLowEnd = navigator.hardwareConcurrency <= 4 || window.innerWidth < 400;
  const MAX      = isLowEnd ? 22 : 38;

  const W = () => canvas.width  = window.innerWidth;
  const H = () => canvas.height = window.innerHeight;
  W(); H();
  window.addEventListener('resize', () => { W(); H(); }, { passive:true });

  const particles = [];
  const COLORS = ['rgba(139,0,0,', 'rgba(201,168,76,'];

  function mkP() {
    const col = COLORS[Math.random() > .5 ? 0 : 1];
    return {
      x:   Math.random() * canvas.width,
      y:   canvas.height + 10,
      r:   1 + Math.random() * 2.5,
      vx:  (Math.random() - .5) * .4,
      vy:  -(1.2 + Math.random() * 2),
      a:   0,
      col: col,
      maxA: .55 + Math.random() * .35,
      shrink: .992 + Math.random() * .005
    };
  }

  for (let i = 0; i < MAX; i++) {
    const pt = mkP();
    pt.y = Math.random() * canvas.height; // spread initially
    particles.push(pt);
  }

  let frame = 0;
  function tick() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    for (let i = 0; i < particles.length; i++) {
      const pt = particles[i];
      pt.y += pt.vy;
      pt.x += pt.vx;
      pt.r *= pt.shrink;

      // fade in / out
      if (pt.y > canvas.height * .85)     pt.a = Math.min(pt.a + .04, pt.maxA);
      else if (pt.y < canvas.height * .15) pt.a = Math.max(pt.a - .03, 0);

      // respawn
      if (pt.r < .25 || pt.y < -20) {
        particles[i] = mkP();
        continue;
      }

      ctx.beginPath();
      ctx.arc(pt.x, pt.y, pt.r, 0, Math.PI * 2);
      ctx.fillStyle = pt.col + pt.a + ')';
      ctx.fill();
    }

    // Spawn new if under max
    frame++;
    if (frame % 22 === 0 && particles.length < MAX) particles.push(mkP());

    requestAnimationFrame(tick);
  }
  tick();
})();

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   NO BUTTON â€” runs away on touch / hover
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
const noBtn = document.getElementById('noBtn');
let   lastRunTime = 0;

function runAway() {
  const now = Date.now();
  if (now - lastRunTime < 80) return; // throttle
  lastRunTime = now;

  const bw   = noBtn.offsetWidth  + 24;
  const bh   = noBtn.offsetHeight + 24;
  const maxX = Math.max(0, window.innerWidth  - bw);
  const maxY = Math.max(0, window.innerHeight - bh);
  noBtn.style.right  = 'auto';
  noBtn.style.bottom = 'auto';
  noBtn.style.left   = (10 + Math.random() * maxX | 0) + 'px';
  noBtn.style.top    = (10 + Math.random() * maxY | 0) + 'px';
}

noBtn.addEventListener('mouseover',  runAway, { passive:true });
noBtn.addEventListener('touchstart', e => { e.preventDefault(); runAway(); }, { passive:false });
noBtn.addEventListener('click',      runAway);

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   TOAST
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function showToast(msg, dur = 4000) {
  const t = document.getElementById('toast');
  t.textContent = msg;
  t.classList.add('show');
  setTimeout(() => t.classList.remove('show'), dur);
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   EMAIL
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
async function sendEmail() {
  const status = document.getElementById('sendStatus');
  status.classList.add('show');

  const fd = new FormData();
  fd.append('access_key', '77e30847-f704-4459-b883-295bfe022e7b');
  fd.append('subject',    'ğŸŒ¹ She said YES! Your Valentine accepted! ğŸ’–');
  fd.append('name',       'Valentine Website');
  fd.append('email',      'issaidur999@gmail.com');
  fd.append('message',
    `ğŸŒ¹ SHE SAID YES! ğŸ’–\n\n` +
    `à¦¤à§‹à¦®à¦¾à¦° Valentine à¦¤à§‹à¦®à¦¾à¦° proposal accept à¦•à¦°à§‡à¦›à§‡!\n\n` +
    `From : ${from}\n` +
    `To   : ${to}\n\n` +
    `Happy Valentine's Day Saidur! ğŸ¥€â¤ï¸\n\n` +
    `â€” à¦¤à§‹à¦®à¦¾à¦° Valentine website à¦¥à§‡à¦•à§‡ automatically à¦ªà¦¾à¦ à¦¾à¦¨à§‹ à¦¹à¦¯à¦¼à§‡à¦›à§‡`
  );

  try {
    const res  = await fetch('https://api.web3forms.com/submit', { method:'POST', body:fd });
    const data = await res.json();
    if (data.success) {
      status.textContent = 'âœ… Email sent to Saidur!';
      showToast('ğŸ’ŒThanks you from Saidur!');
    } else {
      status.textContent = 'ğŸ’Œ Message delivered to heart â™¥';
    }
  } catch {
    status.textContent = 'ğŸ’Œ Message delivered to heart â™¥';
  }
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ROSE RAIN â€” batched, capped, rAF-timed
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function startRoseRain() {
  const rain   = document.getElementById('roseRain');
  const petals = ['ğŸŒ¹','â™¥','ğŸ’‹','ğŸ¥€','âœ¨','ğŸ’–','ğŸŒ¸'];
  const isLow  = navigator.hardwareConcurrency <= 4;
  const BURST  = isLow ? 28 : 48;
  const CONT   = isLow ? 45 : 70;

  function drop(delay) {
    setTimeout(() => {
      const r           = document.createElement('div');
      r.className       = 'rose-drop';
      r.textContent     = petals[Math.random() * petals.length | 0];
      r.style.left      = (Math.random() * 100) + 'vw';
      r.style.fontSize  = (.9 + Math.random() * 1.4) + 'rem';
      r.style.animationDuration = (2 + Math.random() * 3) + 's';
      rain.appendChild(r);
      setTimeout(() => r.remove(), 5800);
    }, delay);
  }

  // Initial burst â€” staggered
  for (let i = 0; i < BURST; i++) drop(i * 55);

  // Continuous drizzle
  let count = 0;
  const iv = setInterval(() => {
    drop(0);
    if (++count >= CONT) clearInterval(iv);
  }, 200);
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   SAY YES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
document.getElementById('yesBtn').addEventListener('click', function sayYes() {
  noBtn.style.display = 'none';
  document.getElementById('mainBlock').style.display = 'none';
  document.querySelector('.seal').style.display      = 'none';

  const ys = document.getElementById('yesScreen');
  ys.style.display = 'block';

  startRoseRain();
  setTimeout(sendEmail, 900);
}, { once:true });
</script>
</body>
</html>